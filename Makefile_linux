# merlinbitte Linux makefile
SRCDIR=./src
INCDIR=include
CFLAGS=$(FLAGS) -I$(INCDIR) -I$(SRCDIR)
LDFLAGS= -lGL -lglut -lGLEW
CC=gcc
CPP=g++ -std=c++11
PROGNAME=merlinbitte
CPP_FILES := $(wildcard src/*.cpp)
OBJ_FILES := $(patsubst src/%.cpp,obj/%.o,$(CPP_FILES))
.SUFFIXES: .o .h .c .hpp .cpp .m

obj/%.o : $(SRCDIR)/%.cpp
	$(CPP) $(CFLAGS) -g -o $@ -c $< 

C_OBJS_DEBUG=$(OBJ_FILES)

all : debug

debug : $(PROGNAME)

$(PROGNAME) : $(C_OBJS_DEBUG)
	$(CPP) $(C_OBJS_DEBUG) $(CFLAGS) -o $@ $(LDFLAGS) $(CFLAGS) -Wl,-rpath,.

clean :
	\rm -f $(PROGNAME) $(C_OBJS_DEBUG)

